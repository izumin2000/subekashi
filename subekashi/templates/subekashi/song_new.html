{% extends "subekashi/base/base.html" %}


{% load static %}
{% load categorys %}
{% block css %}{% static 'subekashi/css/song_new.css'%}{% endblock %}

{% block content %}
<section>
    <details>
        <summary><i class="fas fa-bars"></i>æ›²ã®ç™»éŒ²/ç·¨é›†ã«ã‚ãŸã£ã¦ã®æ³¨æ„</summary>
        <p>ç•Œéšˆæ›²ãªã‚‰ã™ã¹ã‚ãªç•Œéšˆä»¥å¤–ã®æ›²ã‚‚ç™»éŒ²ãŒã§ãã¾ã™ã€‚</p>
        <p>ãã‚Œä»¥å¤–ã®æ›²ã¯æ²è¼‰å¯¾è±¡ã§ã¯ãªã„ç‚ºã€å‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p>
        <p>å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»ç©ºç™½æ–‡å­—ã¯å…¨ã¦åŒºåˆ¥ã•ã‚Œã¾ã™ã€‚</p>
        <p>ç™»éŒ²æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯<a href="{% url 'subekashi:contact' %}">ã“ã¡ã‚‰</a>ã‹ã‚‰ã”é€£çµ¡ãã ã•ã„ã€‚</p>
        <p>è’ã‚‰ã—ã«å¯¾ã—ã¦ã¯å‰Šé™¤ãƒ»BANãƒ»æ³•çš„æªç½®ã¨ã„ã£ãŸå¯¾å‡¦ã‚’ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
    </details>

    <h1>YouTubeã®å‹•ç”»ãƒªãƒ³ã‚¯ã‹ã‚‰ç™»éŒ²<i class="fas fa-info-circle" onclick="showTutorial('new-form-auto')"></i></h1>
    <div class="underline"></div>
    <form action="{% url 'subekashi:song_new' %}?toast=auto" method="POST" id="new-form-auto">{% csrf_token %}
        <div class="form-col">
            <label for="url">YouTubeã®<br>å‹•ç”»ãƒªãƒ³ã‚¯<i class="fas fa-info-circle" onclick="showTutorial('youtube-url')"></i></label>
            <input type="url" id="url" name="url" value="{{ request.GET.url }}" required>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-original-auto" name="is-original-auto" data-sync="original">
            <label for="is-original-auto">ã‚ªãƒªã‚¸ãƒŠãƒ«æ¨¡å€£</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-original')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-deleted-auto" name="is-deleted-auto" data-sync="deleted">
            <label for="is-deleted-auto">éå…¬é–‹/å‰Šé™¤æ¸ˆã¿</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-deleted')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-joke-auto" name="is-joke-auto" data-sync="joke">
            <label for="is-joke-auto">ãƒã‚¿æ›²</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-joke')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-inst-auto" name="is-inst-auto" data-sync="inst">
            <label for="is-inst-auto">ã‚¤ãƒ³ã‚¹ãƒˆ</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-inst')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-subeana-auto" name="is-subeana-auto" data-sync="subeana" checked>
            <label for="is-subeana-auto">ã™ã¹ã‚ãªç•Œéšˆæ›²</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-subeana')"></i>
        </div>
        <input type="submit" value="ç™»éŒ²" id="new-submit-auto" disabled>
        <p id="new-form-auto-info"><img id='loading' src="{% static 'subekashi/image/loading.gif' %}" alt='loading'></p>
    </form>
    
    <h1>æ›²åã¨ãƒãƒ£ãƒ³ãƒãƒ«åã‹ã‚‰ç™»éŒ²<i class="fas fa-info-circle" onclick="showTutorial('new-form-manual')"></i></h1>
    <div class="underline"></div>
    <form action="{% url 'subekashi:song_new' %}?toast=manual" method="POST" id="new-form-manual">{% csrf_token %}
        <div class="form-col">
            <label for="title">æ›²å<i class="fas fa-info-circle" onclick="showTutorial('title')"></i></label>
            <input type="text" id="title" name="title" class="sansfont" value="{{ request.GET.title }}" required>
        </div>
        <div class="form-col">
            <label for="channel">ãƒãƒ£ãƒ³ãƒãƒ«å<i class="fas fa-info-circle" onclick="showTutorial('channel')"></i></label>
            <input type="text" id="channel" name="channel" class="sansfont" value="{{ request.GET.channel }}" required>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-original-manual" name="is-original-manual" data-sync="original">
            <label for="is-original-manual">ã‚ªãƒªã‚¸ãƒŠãƒ«æ¨¡å€£</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-original')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-deleted-manual" name="is-deleted-manual" data-sync="deleted">
            <label for="is-deleted-manual">éå…¬é–‹/å‰Šé™¤æ¸ˆã¿</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-deleted')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-joke-manual" name="is-joke-manual" data-sync="joke">
            <label for="is-joke-manual">ãƒã‚¿æ›²</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-joke')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-inst-manual" name="is-inst-manual" data-sync="inst">
            <label for="is-inst-manual">ã‚¤ãƒ³ã‚¹ãƒˆ</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-inst')"></i>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" id="is-subeana-manual" name="is-subeana-manual" data-sync="subeana" checked>
            <label for="is-subeana-manual">ã™ã¹ã‚ãªç•Œéšˆæ›²</label>
            <i class="fas fa-info-circle" onclick="showTutorial('is-subeana')"></i>
        </div>
        <input type="submit" value="ç™»éŒ²" id="new-submit-manual" disabled>
        <p id="new-form-manual-info"><img id='loading' src="{% static 'subekashi/image/loading.gif' %}" alt='loading'></p>
    </form>

    <h1>???ã‹ã‚‰ç™»éŒ²<i class="fas fa-info-circle" id="hint-target" onclick="showToast('', '<span style=\'color: red;\'>~~~@z@Ã†ÃÃ¤ÃÃšÃŠì—‚ë¹ªí’¾ğ‡º</span>');"></i></h1>
    <div class="underline"></div>
    <p style='text-align: center;' id="hint">hint:??? â†’ ~~~</p>
</section>

<style>
    @keyframes blink {
        0%, 100% { color: #B60; }
        50% { color: #FFF; }
    }
    .blink {
        animation: blink 3s infinite;
    }
</style>

{% endblock %}

{% block js %}
<script defer src="{% static 'subekashi/js/song_new.js' %}"></script>
<script defer>
    if ("{{ error }}") {
        showToast("error", "{{ error }}")
    }
</script>
<script defer>
window.addEventListener("DOMContentLoaded", async function() {
    if (location.hash) {
        await sleep(1);
        const element = document.getElementById(location.hash.substring(1));
        if (element) {
            element.scrollIntoView({ behavior: "auto" });
            document.getElementById("hint-target").classList.add("blink");
        }
    }
});
</script>
{% endblock %}